<%#
LuCI - Lua Configuration Interface
Copyright 2008 Steven Barth <steven@midlink.org>
Copyright 2008 Jo-Philipp Wich <xm@leipzig.freifunk.net>
Copyright 2011 Manuel Munz <freifunk at somakoma dot de>

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

	http://www.apache.org/licenses/LICENSE-2.0

$Id$

-%>
<%
local i = 1
%>

<%+header%>

<h2><a id="content" name="content"><%:Active host net announcements%></a></h2>

<fieldset class="cbi-section">
	<legend><%:Overview of currently active OLSR host net announcements%></legend>
	<table class="cbi-section-table">
		<tr class="cbi-section-table-titles">
			<th class="cbi-section-table-cell"><%:Announced network%></th>
			<th class="cbi-section-table-cell"><%:OLSR gateway%></th>
		</tr>

		<% for k, route in ipairs(routes) do %>

		<tr class="cbi-section-table-row cbi-rowstyle-<%=i%>">
			<td class="cbi-section-table-cell"><%=route.Destination%></td>
			<td class="cbi-section-table-cell">
				<a href="http://<%=route.Gateway%>/cgi-bin-status.html"><%=route.Gateway%></a>
				<% if route.Hostname then %>
				        / <a href="http://<%=route.Hostname%>/cgi-bin-status.html"><%=route.Hostname%></a>
				<% end %>
			</td>
		</tr>

		<% i = ((i % 2) + 1)
		end %>
	</table>
</fieldset>
<%+footer%>
